calc_this = null

fn calc_add(v) {
  calc_this.data[0] = calc_this.data[0] + v
  result = calc_this
}

fn calc_sub(v) {
  calc_this.data[0] = calc_this.data[0] - v
  result = calc_this
}

fn calc_value() {
  result = calc_this.data[0]
}

fn calc(v) {
  calc_this = [
    data: [v],
    add: calc_add,
    sub: calc_sub,
    value: calc_value
  ]
  result = calc_this
}

writeln(calc(0).add(20).sub(5).value()) // 15