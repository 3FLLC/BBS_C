calc_storage = null

fn calc_add(a) {
  calc_storage.data[0] = calc_storage.data[0] + a
  result = calc_storage
}

fn calc_sub(a) {
  calc_storage.data[0] = calc_storage.data[0] - a
  result = calc_storage
}

fn calc_value() {
  result = calc_storage.data[0]
}

fn calc(data) {
  calc_storage = [
    data: data,
    add: calc_add,
    sub: calc_sub,
    value: calc_value
  ]
  result = calc_storage
}

writeln(calc([0]).add(20).sub(5).value()) // 15