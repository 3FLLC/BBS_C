// Demonstrate the use of function chaining and "self"

fn calc_add(v) {
  self.value = self.value + v
  result = self
}

fn calc_sub(v) {
  self.value = self.value - v
  result = self
}

fn calc_create(v) {
  result = [
    value: v,
    add: calc_add,
    sub: calc_sub
  ]
}

calc = calc_create(0)
writeln(calc.add(20).sub(5).value) // 15

